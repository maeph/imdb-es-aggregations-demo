//apply plugin: 'java'

plugins {
    id "de.undercouch.download" version "3.4.2"
    id "java"
    id 'net.ltgt.apt' version '0.10'
}

repositories {
    jcenter()
}

dependencies {
    compile 'org.elasticsearch.client:elasticsearch-rest-high-level-client:6.2.4'
    compile group: 'com.google.code.gson', name: 'gson', version: '2.8.4'
    compile group: 'io.vavr', name: 'vavr', version: '0.9.2'
    compile "io.reactivex.rxjava2:rxjava:2.1.13"
    compile group: 'com.h2database', name: 'h2', version: '1.4.197'

    compileOnly 'org.projectlombok:lombok:1.16.20'
    apt "org.projectlombok:lombok:1.16.20"

    testCompile 'junit:junit:4.11'
}

task downloadImdbFiles(type: Download) {
    src (['https://datasets.imdbws.com/name.basics.tsv.gz',
          'https://datasets.imdbws.com/title.basics.tsv.gz',
          'https://datasets.imdbws.com/title.principals.tsv.gz',
          'https://datasets.imdbws.com/title.crew.tsv.gz',
          'https://datasets.imdbws.com/title.ratings.tsv.gz'
    ])
    dest buildDir
    overwrite false
}